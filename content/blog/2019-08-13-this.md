---
title: '`this`는 왜'
date: 2019-08-12T23:47:02.610Z
description: '`this`는 복잡하다. 그런데 어째서일까?'
---
## `this`
JavaScript의 `this`의 동작 방식은 숙지하기 까다롭다고 알려져있다. 무슨 스코프를 가지고, 호출되는 맥락에 따라 가리키는 오브젝트가 바뀌고, 화살표 함수일 경우엔 또 뭐가 다르고 등등. 여기저기 블로그 글도 많고, 동작 패턴이 외우기 쉽지 않아 면접 문제로도 종종 쓰이는 것 같다. 하지만 도대체 어째서 그렇게 동작하는 지 알려주는 글은 보지 못한 것 같다. 희한하게도 국내외를 통틀어 다 그렇다. 그래서, 그냥 혼자 생각해보았다.

어째서 `this`는 그렇게 동작하게 된 것일까? 어째서 자바스크립트의 설계자는 `this`를 그렇게 동작하도록 만든 것일까?

> disclamer: 아래는 순전히 글쓴이(이제 개발 경력 1년)의 추정임.

## 1995년으로 돌아가서
1995년[^1] 12월로 돌아가보자. 자바스크립트의 아버지가 자바스크립트를 만들고 있다. 알려지기로 자바스크립트는 html에 동적인 기능을 넣기 위해 브라우저에 끼워넣어진 언어였다. 그러니 아마도, 만들어질 당시 우선적으로 고려된 자바스크립트의 쓰임새는 이랬을 것이라 추정할 수 있을 것 같다.

1. html에서 특정 엘리먼트를 선택해서,
1. 동작을 추가한다.

동작을 넣으려면 어떻게 해야 할까? 를 기반으로 `this`라는 게 만들어질 시점의 만든이의 생각의 과정을 대략 추정해보면,

1. html 엘리먼트를 선택해서,
1. 함수로 동작을 붙여야 하는데,
1. 그 함수 안에서 그 엘리먼트를 가리킬 뭔가가 필요하다.

음, 그렇다면 그것을 `this`라고 하자. 였을 거라 추측이 가능하지 않을까? 그렇기 때문에, 자바스크립트의 함수는 언제나 잠재적으로 자신이 어떤 엘리먼트에 '붙을' 지, 더 정확히는 자신의 `this`가 어느 오브젝트에 붙을지 궁금해하고 있는 상태라고 생각할 수 있다. 그래서 자신이 아무 엘리먼트에 붙어있지 않다면? Window에 붙어있다고 가정한다. Object에 붙어 있다면? 

[^1]: 정확히 이 때 `this`가 만들어졌는진 확인해보지 않았다.
